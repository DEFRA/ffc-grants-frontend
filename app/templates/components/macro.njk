{% from "govuk/components/button/macro.njk" import govukButton %}

{% macro crumbToken(crumb) %}
  <input type="hidden" name="crumb" id="crumb"
    value="{{ crumb }}"  autocomplete="off" />
{% endmacro %}

{% macro sideBar(heading, para, items, heading_tag="h3") %}
  <div class="govuk-grid-column-one-third  govuk-!-padding-top-4 govuk-body">
  <hr class="sideBarColor"/>
    {% if heading_tag === "h3" %}
      <h3 class="govuk-heading-s" id="subsection-title">
        {{ heading }}
      </h3>
    {% elseif heading_tag === 'h2' %}
      <h2 class="govuk-heading-s" id="subsection-title">
        {{ heading }}
      </h2>
    {% endif %}

    <p>{{para  | striptags(true) | escape | nl2br }}</p>
    <ul class="govuk-list govuk-list--bullet">
      {% for item in items %}
        <li>{{ item }}</li>
      {% endfor %}
    </ul>
  </div>
{% endmacro %}

{% macro multiSideBar(sideBars, heading_tag='h3') %}
  <div class="govuk-grid-column-one-third  govuk-!-padding-top-4 govuk-body">
    <hr class="sideBarColor"/>

    {% for sidebar in sideBars %}
    {% if heading_tag === "h3" %}
      <h3 class="govuk-heading-s" id="subsection-title">
        {{ sidebar.heading }}
      </h3>
    {% elseif heading_tag === 'h2' %}
      <h2 class="govuk-heading-s" id="subsection-title">
        {{ sidebar.heading }}
      </h2>
    {% endif %}

      {% for content in sidebar.content %}
        <p>{{content.para  | striptags(true) | escape | nl2br }}</p>
        <ul class="govuk-list govuk-list--bullet">
          {% for item in content.items %}
            <li>{{ item }}</li>
          {% endfor %}
        </ul>
      {% endfor %}
    {% endfor %}

  </div>
{% endmacro %}

{% macro conditionalButtons (showSecondaryButton, buttonText = 'Back to score') %}
  {{ govukButton({
      text: "Continue",
      attributes: {id: "btnContinue"}
    })
  }} &nbsp;

  {% if showSecondaryButton %}
    {{ govukButton({
        classes: "govuk-button--secondary",
        text: buttonText,
        name: "results",
        value: "results",
        attributes: {id: buttonText.split(' ').join('-')}
      })
    }}
  {% endif %} 

{% endmacro %}